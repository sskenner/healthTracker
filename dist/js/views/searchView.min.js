var app=app||{};!function(){App.Views.SearchResult=Backbone.View.extend({hooks:{searchButton:$("#searchButton"),searchBox:$("#searchBox"),searchBoxAlert:$("#searchBoxAlert")},initialize:function(){var a=this;this.hooks.searchButton.on("click",function(b){b.preventDefault();var c=$.trim(a.hooks.searchBox.val()).toLowerCase();return c?(a.hooks.searchBoxAlert.text(""),void a.getFood(c)):void a.hooks.searchBoxAlert.text("Enter food name.")})},getFood:function(a){var b=$(".searchResults");$("h2, .searchResults").clone();b.html("<p>one sec...</p>"),$.ajax({type:"GET",dataType:"json",cache:!0,url:"https://api.nutritionix.com/v1_1/search/"+a+"?results=0%3A10&cal_min=0&cal_max=50000&fields=item_name%2Cbrand_name%2Cnf_calories&appId=b207a370&appKey=16f9bcdd52a20a8e547a5337c4d98b89"}).done(function(c){var d=$("#itemSubmit"),e="";if(0==c.hits.length){var f="<p>No results found for search term of: "+a+"</p>";return void b.html(f)}for(var g=0;g<c.hits.length;g++)e+='<li class="searchItem"><span class="searchName">'+c.hits[g].fields.item_name+' </span><span class="searchCalories">  <strong>'+Math.round(c.hits[g].fields.nf_calories)+" Cal. </mark></strong></li>";b.html(e);var h=$(".searchItem");h.on("click",function(){d.prop("disabled",!1);var a=$(this).find(".searchName").text(),b=$(this).find(".searchCalories").text();$("#foodName").text(a),$("#foodCalorie").text(b),$(".searchItem").hide()})}).fail(function(){b.html("<p> Damn Daniel... error retrieving the food information.")})}})}();